<cruisecontrol>
	<project name="SubText">
		<workingDirectory>E:\CCNET-Projects\workingFolder\Subtext</workingDirectory>
		<artifactDirectory>E:\CCNET-Projects\artifact\Subtext</artifactDirectory>
		
		<webURL>http://haacked.dyndns.org/ccnet/server/local/project/SubText/ViewProjectReport.aspx</webURL>
		<publishExceptions>false</publishExceptions>
		<modificationDelaySeconds>60</modificationDelaySeconds>
		
		
		<!-- SVN configuration -->
		
		<sourcecontrol type="filtered">
			<sourceControlProvider type="svn">
				<executable>C:\Program Files\Subversion\bin\svn.exe</executable>
				<trunkUrl>https://svn.sourceforge.net/svnroot/subtext/trunk</trunkUrl>
				<workingDirectory>E:\CCNET-Projects\workingFolder\Subtext</workingDirectory>
				<autoGetSource>true</autoGetSource>
			</sourceControlProvider>
			<inclusionFilters>
		      <pathFilter>
		      	<pattern>/trunk/SubtextSolution/**/*.*</pattern>
		      </pathFilter>
			</inclusionFilters>
		</sourcecontrol>


   <labeller type="defaultlabeller">
     <prefix>1.4.1.</prefix>
     <incrementOnFailure>false</incrementOnFailure>
   </labeller>


		<tasks>
		
			<!-- Build configutation -->
		
			<nant>
				<executable>C:\Program Files\NAnt\bin\NAnt.exe</executable>
				<baseDirectory>SubtextSolution</baseDirectory>
				<buildFile>SubText-CCNET.build</buildFile>
				<buildArgs>-D:MbUnit.exe="C:\Program Files\MbUnit\MbUnit.Cons.exe" -D:NCover.exe="C:\Program Files\NCover\NCover.Console.exe" -D:fxcop.exe="C:\Program Files\Microsoft FxCop 1.35\FxCopCmd.exe" -D:ncoverexplorer.exe="C:\Program Files\NCoverExplorer\NCoverExplorer.Console.exe" -D:vil.exe="C:\Program Files\vil-console-1.1\vil.exe"</buildArgs>
				
				<targetList>
					<target>testAndCover</target>
					<target>reporting</target>
					<target>release</target>
					<target>vil</target>
					<!--<target>doc</target>-->					
				</targetList>
				
			</nant>
						
		</tasks>
		
		
		<publishers>
			<merge>
				<files>
					<file>E:\CCNET-Projects\workingFolder\Subtext\logs\ncover.xml</file>
					<file>E:\CCNET-Projects\workingFolder\Subtext\logs\unittest.xml</file>
					<file>E:\CCNET-Projects\workingFolder\Subtext\logs\ccnet-fxcop.xml</file>
					<file>E:\CCNET-Projects\workingFolder\Subtext\logs\results-vil.xml</file>
				</files>
			</merge>
			<xmllogger/>
			
			<!-- Commented out since CCTray is better :-)
			<email from="buildmaster@subtextproject.com" mailhost="smtp.fastwebnet.it" includeDetails="TRUE">
				<users>
				
					 Buildmaster 
				
					<user name="simo" group="buildmaster" address="simo-dev@piyosailing.com"/>
					
					 Developers
					
					<user name="haacked" group="developers" address="haacked@gmail.com"/>
					<user name="ussherm" group="developers" address="steveharman@gmail.com"/> 
				</users>
				<groups>
					<group name="developers" notification="change"/>
					<group name="buildmaster" notification="always"/>
				</groups>
			</email>
			-->
			
		</publishers>
		
		
		
		<externalLinks>
			<externalLink name="Project Site" url="http://www.subtextproject.com" />
			<externalLink name="Subtext SF Dashboard" url="http://sourceforge.net/projects/subtext" />
			<externalLink name="Bug Tracker" url="http://sourceforge.net/tracker/?group_id=137896&amp;atid=739979" />
			<externalLink name="Forum" url="http://sourceforge.net/forum/forum.php?forum_id=464968" />
			<externalLink name="Build archive" url="http://haacked.dyndns.org/builds/archive/" />
		</externalLinks>

	</project>
	
	<project name="CI-Config">
		<workingDirectory>E:\CCNET-Projects\workingFolder\Subtext\Utilities\CCNET_Config</workingDirectory>
		<artifactDirectory>E:\CCNET-Projects\artifact\CIConfig</artifactDirectory>
		<publishExceptions>false</publishExceptions>
		<webURL>http://haacked.dyndns.org/ccnet/server/local/project/CI-Config/ViewProjectReport.aspx</webURL>
		
		<sourcecontrol type="filtered">
			<sourceControlProvider type="svn">
				<executable>C:\Program Files\Subversion\bin\svn.exe</executable>
				<trunkUrl>https://svn.sourceforge.net/svnroot/subtext/trunk/Utilities/CCNET_Config</trunkUrl>
				<workingDirectory>E:\CCNET-Projects\workingFolder\Subtext\Utilities\CCNET_Config</workingDirectory>
				<autoGetSource>true</autoGetSource>
			</sourceControlProvider>
		</sourcecontrol>
		
		<tasks>
			<nant>
					<executable>C:\Program Files\NAnt\bin\NAnt.exe</executable>
					<baseDirectory>.</baseDirectory>
					<buildFile>Update-CCNET.build</buildFile>
					<buildArgs>-D:ccnet.config="C:\Program Files\CruiseControl.NET\server\ccnet.config" -D:dashboard.config="C:\Program Files\CruiseControl.NET\webdashboard\dashboard.config"</buildArgs>
					
					<targetList>
						<target>copyfiles</target>
					</targetList>
					
			</nant>
		</tasks>
	</project>
	
	
</cruisecontrol>